@import "compass/css3"
@import "compass/utilities"

article, header, footer, section, nav, aside
  display: block

@media screen
  $article-width: 74%
  $small-margin:  20px
  $avg-margin:    72px
  $outer-margin:  50px
  $min-width:     200px
  $dark:          #333
  $darker:        #222
  $indent:        1.5em

  body
    font:
      family: 'Fanwood Text', Georgia, Cambria, 'Times New Roman', Times, serif
      size: 18px
    @media screen and (min-width: 980px)
      padding: $small-margin $outer-margin
      min-width: $min-width + (2*$outer-margin)
    margin: 0
    color: $darker

  h1, h2
    color: $darker

  a
    color: #369
    text-decoration: none
    &:hover, &:focus
      text-decoration: underline
    &:active
      color: #369
    &:visited
      color: #737
    img
      border: none

  .header
    border: 1px solid #CCC
    outline: #ccc 1px solid
    outline-offset: 2px
    @media screen and (min-width: 980px)
      margin: 0px 2% 10px
    padding: 15px 20px 0.25em
    text-align: center
    font-size: 200%
    letter-spacing: 0.2em
    color: $darker
    width: 95%
    @media screen and (max-width: 980px)
      width: auto
    .subtitle
      font-size: 18px
      @media screen and (max-width: 980px)
        display: none

  header
    max-width: 99vw
    text-align: left
    font-size: 14px

  nav, aside
    position: relative

  aside
    font-family: 'Source Sans Pro', Helvetica, Arial, Freesans, Clean, sans-serif
    top: 0
    font-size: 13px
    @media screen and (min-width: 980px)
      float: right
      clear: right
      max-width: 100 - $article-width
      opacity: 0.1
      &:hover
        opacity: 1 !important
    @media screen and (max-width: 980px)
      padding: $small-margin / 5
        right: $avg-margin / 4
        left: $avg-margin / 8
      float: none
      width: auto

  nav
    text-align: center
    +text-shadow(#000, 1px, 1px, 2px)
    font-family: Arial, sans-serif
    @media screen and (max-width: 980px)
      font-size: 32px
    @media screen and (min-width: 980px)
      font-size: 18px
    color: #777
    opacity: 0.5
    margin
      left: auto
      right: auto
    .link
      padding: 0 5px
      opacity: 1.0
    a
      color: #000
      font-weight: bold
    a:hover
      opacity: 0.8
      text-decoration: none

  article[data-source]
    @media screen and (min-width: 980px)
      width: $article-width - 6%
      min-height: 300px
      min-width: 600px
      padding-left: 2%
      padding-right: 4%
    overflow: hidden
    float: left
    line-height: 1.4
    @media screen and (max-width: 980px)
      padding: $small-margin / 5
        right: $avg-margin / 4
        left: $avg-margin / 8

    h1
      font-size: 36px
      margin-bottom: 0px
    h2
      font:
        size: 24px
      text-align: left
      line-height: 0.9
    h3, h4, h5, h6
      font-size: 16px

    h1, h2, h3, h4, h5, h6
      max-width: 99vw

    section
      &.comments
        margin-top: $small-margin
        padding-top: $small-margin
      @media screen and (max-width: 980px)
        width: auto
        max-width: 99vw
      &.content
        display: table
        text-align: justify

        code
          font-size: 12px

        p
          margin-bottom: 0

        p + p
          text-indent: $indent
          margin-top: 0
          .gist
            margin-top: 1em
            text-indent: 0

        img, video
          max-width: 100%
          +box_shadow(rgba(0,0,0,0.4), 2px, 1px, 2px)
          float: left
          display: block
          margin:
            top: 0
            left: 0
            right: 1em
            bottom: 2px
          border: solid 1px $darker

        h1, h2
          clear: left

        article
          .date
            display: inline-block
            font-size: 16px
            min-width: 80px

  .ytVideo
    max-width: 80vw
    @media screen and (min-width: 980px)
      width: 640px
      height: 480px
    @media screen and (max-width: 980px)
      width: 480px
      height: 375px
    @media screen and (max-width: 640px)
      width: 320px
      height: 240px

  .gist, .gist-file
    font-size: 12px
    max-width: 90vw
    .gist-meta
      font-size: 9px !important

.license
  margin-top: 2em
  font-family: 'Source Sans Pro', Helvetica, Arial, Freesans, Clean, sans-serif
  font-size: 8pt
  a:after
    font-size: 8pt !important
